<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KWX778WX');</script>
    <!-- End Google Tag Manager -->


    <title>Results</title>
    <link rel="stylesheet" crossorigin href="izo.css">
    <link rel="stylesheet" crossorigin href="land.css">

    <script type="text/css">
        pre.cscode {margin:10em; overflow:auto; background-color:#ffffff;}
        .cscode code {font-family:Segoe UI,Roboto,Verdana, Consolas,"Courier New",Courier,Monospace; <font-size:20></font-size:20>pt; color:#000000;}
        .cscode .key {color:#0000ff;}
        .cscode .com {color:#008000;}
        .cscode .str {color:#a31515;}
    </script>

    <script src="se.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


    <script src="https://black-scholes-js.netlify.app/js/blackscholes.js"></script>

    <script type="text/javascript"> 
        
        var new_num = 40; // global variable
        
        

        jQuery(document).ready(function(){ 

            var bsholder = 1; //new BSHolder(stock,strike,interest,vola,term);

            $('#countme').css({
                margin: '0 auto',
                backgroundColor: '#ccc',
                textAlign: 'center',
                fontSize: '40px'
            }).bind('click', function(){
                var current = parseInt($(this).text(), 10);
                var ibsholder = parseInt(bsholder, 10);
                new_num = new_num + 1
                $(this).text(ibsholder+1).css({fontSize: new_num+'px'})
            });
        });
        </script>

</head>
<body class="izoV2">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KWX778WX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="bg-white" data-role="page">
    <div class="container mt-5 text-center">
        <nav class="md:mx-3">
            <ul class="hidden font-brand md:flex md:space-x-4 lg:space-x-6"><li><a href="projects.html">Projects</a></li>
                <li>&nbsp;</li>
                <li><a href="Rquery.html"><b>Black-Scholes</b></a></li>
                <li>&nbsp;</li>
                <li><a href="tidbits.html">Tidbits</a></li>
                <li>&nbsp;</li>
                <li><a href="index.html">About</a></li>
                <li><div onclick="getProjects()">getProjects</div></li>
                <li><div onclick="searchCode('DO')">Search code</div></li>
            </ul>
        </nav>
    </div>

    <div class="container mt-5 text-center">
        <div id="countme">0</div>
    </div>

    <div class="container my-5">
        <div class="row justify-content-around">
            <div class="col-12 col-md-6">
                <form id="bsValues">
                    <label for="stock">Stock Price</label>
                    <input type="number" min="0.01" step="0.01" max="2500" class="form-control"
                        id="stock" placeholder="20.00" required>
                    <label for="strike">Strike Price</label>
                    <input type="number" min="0.01" step="0.01" max="2500" class="form-control"
                        id="strike" placeholder="22.00" required>
                    <label for="interest">Interest Rate</label>
                    <input type="number" min="0.00" step="0.01" max="1" class="form-control"
                        id="interest" placeholder="0.06" required>
                    <label for="volatility">Volatility</label>
                    <input type="number" min="0.00" step="0.01" max="1" class="form-control"
                        id="volatility" placeholder="0.05" required>
                    <label for="term">Term</label>
                    <input type="number" min="0" step="1" max="1000" class="form-control"
                        id="term" placeholder="30" required>
                    <button type="button" class="btn btn-primary btn-block my-3" onclick="calcValues(stock.value, strike.value, interest.value, volatility.value, term.value)">Submit</button>
                </form>
            </div>

            <div class="col-12 col-md-6">
                <form>
                    <fieldset disabled>
                        <label for="call-price">Call Price</label>
                        <input type="number" class="form-control"
                            id="call-price" placeholder="0.00" >
                        <label for="put-price">Put Price</label>
                        <input type="number" class="form-control"
                            id="put-price" placeholder="0.00" >
                        <label for="call-delta">Call Delta</label>
                        <input type="number" class="form-control"
                            id="call-delta" placeholder="0.00" >
                        <label for="put-delta">Put Delta</label>
                        <input type="number" class="form-control"
                            id="put-delta" placeholder="0.00" >
                        <label for="gamma">Gamma</label>
                        <input type="number" class="form-control"
                            id="gamma" placeholder="0.00" >
                        <label for="vega">Vega</label>
                        <input type="number"  class="form-control"
                            id="vega" placeholder="0.00" >
                        <label for="call-theta">Call Theta</label>
                        <input type="number" class="form-control"
                            id="call-theta" placeholder="0.00" >
                        <label for="put-theta">Put Theta</label>
                        <input type="number" class="form-control"
                            id="put-theta" placeholder="0.00" >
                        <label for="call-rho">Call Rho</label>
                        <input type="number" class="form-control"
                            id="call-rho" placeholder="0.00" >
                        <label for="put-rho">Put Rho</label>
                        <input type="number" class="form-control"
                            id="put-rho" placeholder="0.00" >
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>
</footer>
</div></div>




<script>
    function copyCode(elementId) {
        /* Get the text field */
        var copyText = document.getElementById(elementId);

        /* Select the text field */
        copyText.select();
        copyText.setSelectionRange(0, 99999); /*For mobile devices*/

        /* Copy the text inside the text field */
        document.execCommand("copy");
    }

    const calcValues = function(stock, strike, interest, volatility, term) {

        let bsholder = new BSHolder(stock, strike, interest, volatility, term);

        document.querySelector('#call-price').setAttribute('value', BS.call(bsholder));
        document.querySelector('#put-price').setAttribute('value', BS.put(bsholder));
        document.querySelector('#call-delta').setAttribute('value', BS.cdelta(bsholder));
        document.querySelector('#put-delta').setAttribute('value', BS.pdelta(bsholder));
        document.querySelector('#gamma').setAttribute('value', BS.gamma(bsholder));
        document.querySelector('#vega').setAttribute('value', BS.vega(bsholder));
        document.querySelector('#call-theta').setAttribute('value', BS.ctheta(bsholder));
        document.querySelector('#put-theta').setAttribute('value', BS.ptheta(bsholder));
        document.querySelector('#call-rho').setAttribute('value', BS.crho(bsholder));
        document.querySelector('#put-rho').setAttribute('value', BS.prho(bsholder));

    }
</script>


<!-- 
    <noscript>
        <iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-WLDPXRV"
          height="0"
          width="0"
          style="display: none; visibility: hidden"
        ></iframe>
      </noscript> -->



    <pre class="cscode">
        <small>
        <code>      

        <span class="com">// Functions used listed below</span>

        <span class="com">// Cumulative distribution function for the standard normal distribution</span>
        function cdf(x) {
            <span class="key">return</span> (1.0 + Math.erf(x / Math.sqrt(2.0))) / 2.0;
        }

        <span class="com">// Black-Scholes formula for call option price</span>
        function blackScholesCall(S, K, T, r, sigma) {
          let d1 = (Math.log(S / K) + (r + 0.5 * sigma * sigma) * T) / (sigma * Math.sqrt(T));
          let d2 = d1 - sigma * Math.sqrt(T);
          <span class="key">return</span> S * cdf(d1) - K * Math.exp(-r * T) * cdf(d2);
        }
        
        <span class="com">// Black-Scholes formula for put option price</span>
        function blackScholesPut(S, K, T, r, sigma) {
          let d1 = (Math.log(S / K) + (r + 0.5 * sigma * sigma) * T) / (sigma * Math.sqrt(T));
          let d2 = d1 - sigma * Math.sqrt(T);
          <span class="key">return</span> K * Math.exp(-r * T) * cdf(-d2) - S * cdf(-d1);
        }
        
        </code>
    </small>
    </pre>

    <a href="https://black-scholes-js.netlify.app/calculator.html">Black Scholes JS Library Docs</a>


      
    </body>
  </html>